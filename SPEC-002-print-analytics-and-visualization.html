<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>SPEC-002: Print Analytics and Visualization System</title>
<link rel="stylesheet" href="./asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>SPEC-002: Print Analytics and Visualization System</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_background">1. Background</a></li>
<li><a href="#_requirements">2. Requirements</a>
<ul class="sectlevel2">
<li><a href="#_must_have">2.1. Must Have</a></li>
<li><a href="#_should_have">2.2. Should Have</a></li>
<li><a href="#_could_have">2.3. Could Have</a></li>
<li><a href="#_wont_have_initially">2.4. Won’t Have (initially)</a></li>
</ul>
</li>
<li><a href="#_method">3. Method</a>
<ul class="sectlevel2">
<li><a href="#_data_model_extension">3.1. Data Model Extension</a></li>
<li><a href="#_backend_aggregations">3.2. Backend Aggregations</a></li>
<li><a href="#_frontend_visualization">3.3. Frontend Visualization</a></li>
</ul>
</li>
<li><a href="#_implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#_step_1_analytics_db_setup">4.1. Step 1: Analytics DB Setup</a></li>
<li><a href="#_step_2_api_endpoints">4.2. Step 2: API Endpoints</a></li>
<li><a href="#_step_3_frontend_dashboard">4.3. Step 3: Frontend Dashboard</a></li>
<li><a href="#_step_4_export_support">4.4. Step 4: Export Support</a></li>
</ul>
</li>
<li><a href="#_milestones">5. Milestones</a></li>
<li><a href="#_gathering_results">6. Gathering Results</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_background">1. Background</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As users accumulate more 3D print data, trends and inefficiencies become difficult to identify manually. This analytics and visualization module will empower users to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Track cost evolution over time</p>
</li>
<li>
<p>Compare slicer settings (e.g. layer height, infill) against cost/performance</p>
</li>
<li>
<p>Identify opportunities for cost optimization</p>
</li>
<li>
<p>Present printing performance and cost data to clients or internal stakeholders</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements">2. Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_must_have">2.1. Must Have</h3>
<div class="ulist">
<ul>
<li>
<p>Persist cost and metadata for all parsed prints</p>
</li>
<li>
<p>Generate time-series charts of total cost over time</p>
</li>
<li>
<p>Summarize total print cost by:</p>
</li>
<li>
<p>Project folder</p>
</li>
<li>
<p>Printer profile</p>
</li>
<li>
<p>Filament type</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_should_have">2.2. Should Have</h3>
<div class="ulist">
<ul>
<li>
<p>Interactive visualizations (line, pie, bar charts)</p>
</li>
<li>
<p>Compare prints across slicing variables</p>
</li>
<li>
<p>Export raw cost datasets as CSV</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_could_have">2.3. Could Have</h3>
<div class="ulist">
<ul>
<li>
<p>Detect cost outliers or efficiency anomalies</p>
</li>
<li>
<p>Suggest setting optimizations (e.g. speed vs. layer height tradeoff)</p>
</li>
<li>
<p>Visualize energy vs. material cost proportions</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_wont_have_initially">2.4. Won’t Have (initially)</h3>
<div class="ulist">
<ul>
<li>
<p>Machine learning-based failure prediction</p>
</li>
<li>
<p>Real-time slicer integration</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_method">3. Method</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_data_model_extension">3.1. Data Model Extension</h3>
<div class="paragraph">
<p>Extend <code>PrintProject</code> and/or <code>ParsedGcode</code> with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csharp" data-lang="csharp">public class PrintAnalyticsRecord
{
    public Guid Id { get; set; }
    public DateTime PrintedOn { get; set; }
    public string ProjectName { get; set; }
    public string PrinterProfileId { get; set; }
    public string MaterialProfileId { get; set; }
    public float TotalCost { get; set; }
    public float MaterialCost { get; set; }
    public float ElectricityCost { get; set; }
    public float DepreciationCost { get; set; }
    public float PrintTimeHours { get; set; }

    // Optional: saved slicing metadata
    public float LayerHeight { get; set; }
    public float InfillPercent { get; set; }
    public float AverageSpeed { get; set; }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_backend_aggregations">3.2. Backend Aggregations</h3>
<div class="ulist">
<ul>
<li>
<p><code>/analytics/cost-over-time</code></p>
</li>
<li>
<p><code>/analytics/cost-by-printer</code></p>
</li>
<li>
<p><code>/analytics/cost-by-filament</code></p>
</li>
<li>
<p><code>/analytics/settings-comparison</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use LINQ + EF Core to group and aggregate data in SQL.</p>
</div>
</div>
<div class="sect2">
<h3 id="_frontend_visualization">3.3. Frontend Visualization</h3>
<div class="paragraph">
<p>Use Chart.js or ngx-charts in Angular to create:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Line chart (cost over time)</p>
</li>
<li>
<p>Pie chart (cost breakdown by type or project)</p>
</li>
<li>
<p>Bar chart (comparison by profile or slicer setting)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation">4. Implementation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_1_analytics_db_setup">4.1. Step 1: Analytics DB Setup</h3>
<div class="ulist">
<ul>
<li>
<p>Create <code>PrintAnalyticsRecord</code> table</p>
</li>
<li>
<p>Automatically save records after every cost calculation</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_api_endpoints">4.2. Step 2: API Endpoints</h3>
<div class="ulist">
<ul>
<li>
<p>Implement analytics aggregation endpoints</p>
</li>
<li>
<p>Add filtering: date ranges, printer/material/profile</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_frontend_dashboard">4.3. Step 3: Frontend Dashboard</h3>
<div class="ulist">
<ul>
<li>
<p>Angular component to display charts</p>
</li>
<li>
<p>Add dropdown filters and range selectors</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_4_export_support">4.4. Step 4: Export Support</h3>
<div class="ulist">
<ul>
<li>
<p>Allow CSV download for any dataset or breakdown</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_milestones">5. Milestones</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Analytics DB + ingestion</p>
</li>
<li>
<p>Cost over time view</p>
</li>
<li>
<p>Cost breakdown by printer and filament</p>
</li>
<li>
<p>Export to CSV</p>
</li>
<li>
<p>Slicer setting comparison dashboard</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gathering_results">6. Gathering Results</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Confirm DB performance on 1000+ records</p>
</li>
<li>
<p>Validate data accuracy against input cost calculations</p>
</li>
<li>
<p>Collect user feedback on which visualizations drive action</p>
</li>
<li>
<p>Prioritize follow-ups based on usage and insights generated</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-05-13 09:05:13 UTC
</div>
</div>
</body>
</html>